use pulse::component { Container, Input, Button, Icon }
use core::controller { Auth, Accounts }

component main App {
    state enable: boolean = true
    @mounted accounts.load, FadeIn
    MyForm {
        @enabled = enable;
    }
}
component MyForm {
	prop enabled?: boolean = true
    Container FormContainerStyle {  
        Input InputStyle {
            @email true, "Email Here"
            @state Auth.CREDS.email
            Icon {
                @svg "email"
                @size 22
            }
        }
        Input InputStyle {
            @password true
            @state Auth.CREDS.password
        }
        Button {
            @text "Submit"
            @onPress if enabled Auth.CREDS.email
            @style padding: 10 20, center, grow, background: theme.background
            if waiting Spinner SpinnerStyle {}
        }
	}
}

style FormContainerStyle {
    margin: 5 mobile(0) tablet(3)
    maxWidth: 200
    shadow: 0 0 200 theme.shadow
    spaceBetween: 10
}

style InputStyle {
    padding: 10 5
    borderRadius: 5
    background: theme.inputBackground
}

animation FadeIn {
    @duration 200
    @frame opacity 0
    @frame opacity 1
}

component SomethingElse {
    @class "some-custom-classname"
    @touchable pressOpacity: 0.5
    View MyStyle {
        @style row, cornerRadius: 4, fill: theme.box

    }
}



// computed notEditing: boolean => !editing

// define global object AccountObject {
//     id: string
//     email: string
// }

// define global collection Accounts {
//     @groups define AUTHED, FAVORITES
//     @selectors define CURRENT
//     @data AccountObject
// }