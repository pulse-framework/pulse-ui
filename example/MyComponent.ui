use component Container, Input, Button, Icon
use controllers Auth, Accounts 

component main App {
    state enable: boolean = true
    @mounted accounts.load, FadeIn
    MyForm {
        @enabled = enable;
    }
}

component MyForm {
	prop enabled?: boolean = true
    Container FormContainerStyle {  
        Input InputStyle {
            @email "Email Here"
            @state Auth.CREDS.email
            Icon {
                @svg "email"
                @size 22
            }
        }
        Input InputStyle {
            @password
            @state Auth.CREDS.password
        }
        Button {
            style padding: 10 20, center, grow, background: theme.background
            @text "Submit"
            @action wait if (enabled) Auth.CREDS.email
            if (waiting) Spinner SpinnerStyle {}
        }
	}
}

style FormContainerStyle {
    margin: 5 mobile(0) tablet(3)
    maxWidth: 200
    shadow: 0, 0, 200 theme.shadow
    spaceBetween: 10
}

style InputStyle {
    padding: 10 5
    borderRadius: 5
    background: theme.inputBackground
}

animation FadeIn {
    @duration = 200
    @frame opacity = 0
    @frame opacity = 1
}



// computed notEditing: boolean => !editing

// define global object AccountObject {
//     id: string
//     email: string
// }

// define global collection Accounts {
//     @groups define AUTHED, FAVORITES
//     @selectors define CURRENT
//     @data AccountObject
// }